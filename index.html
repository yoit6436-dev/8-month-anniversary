<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>8 Month Anniversary Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Fredoka+One&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #ff6b81;
    --accent: #ffcb77;
    --glass: rgba(255, 255, 255, 0.1);
    --border: rgba(255, 255, 255, 0.2);
}

html, body {
  margin:0; padding:0; width:100%; height:100%;
  font-family:'Poppins', sans-serif;
  overflow:hidden;
  background: radial-gradient(circle at center, #2c2f3b 0%, #1e1f26 100%);
  color:#fff;
  touch-action: manipulation;
}

/* Background Bubbles */
canvas#bubblesCanvas{position:absolute;top:0;left:0;pointer-events:none;width:100%;height:100%;z-index:1; opacity: 0.6;}

.page {
  display:none; width:100%; height:100%; position:absolute; top:0; left:0;
  text-align:center; padding-top:6vh; box-sizing:border-box;
  transition: all 0.5s ease-in-out;
}
.page.active {display:block; animation: fadeIn 0.8s ease-in-out;}

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.title {
  font-family:'Dancing Script', cursive;
  font-size:2.8em; margin-bottom:15px;
  background: linear-gradient(to right, #fff, var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
}

.typing {display:inline; border-right:2px solid #fff; padding-right:2px; animation: blink 0.7s infinite;}
@keyframes blink { 50% { border-color: transparent; } }

video, img {max-width:85%; border-radius:20px; position:relative; z-index:5; box-shadow:0 20px 40px rgba(0,0,0,0.6); border: 1px solid var(--border);}

/* Pinterest Aesthetic: Polaroid */
.polaroid-frame {
    background: #fff;
    padding: 12px 12px 45px 12px;
    border-radius: 5px;
    display: inline-block;
    box-shadow: 0 15px 35px rgba(0,0,0,0.4);
    transform: rotate(-2deg);
    animation: floatImg 4s ease-in-out infinite alternate;
}
@keyframes floatImg { from { transform: translateY(0) rotate(-2deg); } to { transform: translateY(-15px) rotate(2deg); } }

/* Buttons */
button {padding:12px 28px; font-size:1em; margin:15px; cursor:pointer; border:none; border-radius:50px; z-index:10; position:relative; font-family:'Poppins'; font-weight: 600; letter-spacing: 1px; transition: 0.3s;}
.yes{background: linear-gradient(45deg, var(--primary), #ff4757); color:#fff; box-shadow: 0 10px 20px rgba(255,107,129,0.3);}
.no{background: var(--accent); color:#000; box-shadow: 0 10px 20px rgba(255,203,119,0.2);}

/* Game & Puzzle Areas */
#game-canvas { background: var(--glass); border-radius: 20px; margin: 10px auto; border: 1px solid var(--border); touch-action: none; box-shadow: inset 0 0 20px rgba(0,0,0,0.2); }
#puzzle-board {
    display: grid; grid-template-columns: repeat(3, 90px); grid-template-rows: repeat(3, 90px);
    grid-gap: 8px; justify-content: center; margin: 15px auto;
    background: var(--glass); padding: 15px; border-radius: 20px; border: 1px solid var(--border);
}
.puzzle-piece { width: 90px; height: 90px; border-radius: 10px; background-size: cover; border: 1px solid rgba(255,255,255,0.1); }
.selected-piece { outline: 3px solid #fff; box-shadow: 0 0 20px var(--primary); transform: scale(1.05); }

/* Progress Bar */
#progress-wrap { position: fixed; bottom: 20px; left: 10%; width: 80%; height: 4px; background: rgba(255,255,255,0.05); border-radius: 10px; z-index: 100; }
#progress-bar { width: 0%; height: 100%; background: var(--primary); border-radius: 10px; transition: width 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 0 15px var(--primary); }

/* Final Aesthetic Card */
.glass-card {
    background: rgba(255, 255, 255, 0.07);
    backdrop-filter: blur(15px);
    border: 1px solid var(--border);
    border-radius: 30px;
    padding: 30px; width: 85%; margin: 0 auto;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
}
#finalTitle { font-family:'Fredoka One', cursive; font-size:2.6em; margin-bottom: 10px; color: #fff; text-shadow: 0 0 20px var(--primary); }
</style>
</head>
<body>

<audio id="bgSong" src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/song.mp3" loop></audio>
<canvas id="bubblesCanvas"></canvas>
<div id="progress-wrap"><div id="progress-bar"></div></div>

<div class="page active" id="page0">
  <h1 class="title">Enter the Secret Date üíñ</h1>
  <input type="date" id="passInput" style="padding:12px; border-radius:10px; border:1px solid var(--border); background: var(--glass); color: white;">
  <button onclick="checkPassword()" class="yes">Unlock My Love</button>
</div>

<div class="page" id="page1"><div class="title"><span id="typeText1" class="typing"></span></div></div>
<div class="page" id="page2"><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video1.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="page3">
  <div class="title">First and formost</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video2.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page4">
  <div class="title">Please press to open</div>
  <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image1.jpg" onclick="window.open('https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image2.jpg')">
</div>

<div class="page" id="page5">
  <div class="title">Do you wanna see something cute?</div>
  <button class="yes" id="yesBtn5">YES</button>
  <button class="no" id="noBtn5">NO</button>
  <div id="imageContainer5"></div>
  <button id="next5" style="display:none; margin-top: 10px;" class="yes" onclick="showPage(6)">Next Step</button>
</div>

<div class="page" id="page6">
  <div class="title">I have something to say, click to view.</div>
  <button id="clickToView6" class="yes">Open Note</button>
  <div id="videoContainer6"></div>
</div>

<div class="page" id="page7">
  <div class="title">You wanna know how your fix my heart?</div>
  <button class="yes" id="yesBtn7">Show Me</button>
  <button class="no" id="noBtn7">No</button>
  <div id="videoContainer7"></div>
</div>

<div class="page" id="page8">
  <div class="title">This is how I feel when I'm near you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video5.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page9">
  <div class="title">Will you hold my hands forever?</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video6.mp4" autoplay muted playsinline loop></video>
  <button class="yes" id="yesBtn9">YES</button>
  <button class="no" id="noBtn9">NO</button>
</div>

<div class="page" id="page10">
  <div class="title">You wanna know what's in my heart?</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video7.mp4" autoplay muted playsinline loop></video>
  <button class="yes" id="yesBtn10">YES</button>
  <button class="no" id="noBtn10">NO</button>
</div>

<div class="page" id="page11">
  <div class="title">Look inside</div>
  <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image5.jpg">
</div>

<div class="page" id="page12">
  <div class="title">A lot of kisses for you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video8.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page13">
  <div class="title">And hugs for you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video9.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page14">
  <div class="title">A sweet and childish memory</div>
  <div class="polaroid-frame">
     <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image6.jpg">
  </div>
  <p style="margin-top:20px; font-weight: 300; opacity: 0.8;">(Tap for a challenge...)</p>
</div>

<div class="page" id="pageGame">
  <div class="title">Catch 10 Glowing Stars ‚ú®</div>
  <canvas id="game-canvas" width="300" height="350"></canvas>
  <h2 id="scoreDisplay" style="color:var(--accent); font-weight: 400;">Collected: 0 / 10</h2>
</div>

<div class="page" id="pagePuzzle">
  <div class="title">Fix Our Memory üß©</div>
  <div id="puzzle-board"></div>
  <button id="puzzleNext" style="display:none;" class="yes" onclick="showPage('Final')">See Final Surprise</button>
</div>

<div class="page" id="pageFinal">
    <div class="glass-card">
        <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/10.jpg" style="max-width:100%; border-radius:15px; margin-bottom:15px;">
        <h1 id="finalTitle">Happy 8 Months!</h1>
        <p style="color: #ffd6e0; font-weight: 300; line-height: 1.6;">
            Every day with you is a gift I never expected but always needed. <br>
            <span style="font-weight: 600; font-size: 1.3em;">Forever to go. ‚ù§Ô∏è</span><br>
            18.06.2025
        </p>
    </div>
</div>

<script>
const bgSong = document.getElementById('bgSong');
const bubblesCanvas=document.getElementById('bubblesCanvas');
const bctx=bubblesCanvas.getContext('2d');
bubblesCanvas.width=window.innerWidth; bubblesCanvas.height=window.innerHeight;
const heartImg=new Image(); heartImg.src='https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/heart.png';
const kissImg=new Image(); kissImg.src='https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/kiss.png';

let bubbles=[];
for(let i=0;i<18;i++) bubbles.push({x:Math.random()*bubblesCanvas.width,y:Math.random()*bubblesCanvas.height,size:Math.random()*25+15,speedY:Math.random()*1+0.5,img:Math.random()<0.5?heartImg:kissImg});

function drawBubbles(){
    bctx.clearRect(0,0,bubblesCanvas.width,bubblesCanvas.height);
    bubbles.forEach(b=>{
        bctx.drawImage(b.img,b.x,b.y,b.size,b.size);
        b.y-=b.speedY; if(b.y<-50) b.y=bubblesCanvas.height+50;
    });
    requestAnimationFrame(drawBubbles);
}
drawBubbles();

let currentPage=0;
const totalSteps = 16;

function updateProgress(num) {
    let bar = document.getElementById('progress-bar');
    let percent = (num / totalSteps) * 100;
    bar.style.width = percent + '%';
}

function showPage(num){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    let target = (typeof num === 'string') ? document.getElementById('page'+num) : document.getElementById('page'+num);
    target.classList.add('active');
    
    let step = (typeof num === 'string') ? totalSteps : num;
    updateProgress(step);
    
    currentPage = num;
    if(num === 'Game') startStarGame();
    if(num === 'Puzzle') initPuzzle();
}

function checkPassword(){
    if(document.getElementById('passInput').value==="2025-06-18"){
        bgSong.play().catch(()=>{});
        showPage(1);
        startTyping("Hi my fattu, this is your cutie and this is something for you that I made with all my love üíñ","typeText1",()=>showPage(2));
    } else alert("Secret code incorrect! ‚ùå");
}

function startTyping(text,id,callback){
    let i=0; const el=document.getElementById(id); el.textContent = "";
    const interval=setInterval(()=>{ el.textContent=text.slice(0,i); i++; if(i>text.length){ clearInterval(interval); if(callback) setTimeout(callback, 2000); } }, 50);
}

/* YES/NO Interaction */
let yesBtnScale = 1;
document.getElementById('noBtn5').onclick = (e) => {
    e.stopPropagation();
    yesBtnScale += 0.4;
    document.getElementById('yesBtn5').style.transform = `scale(${yesBtnScale})`;
};
document.getElementById('yesBtn5').onclick = (e) => {
    e.stopPropagation();
    document.getElementById('imageContainer5').innerHTML=`<img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image3.jpg">`;
    document.getElementById('next5').style.display='inline-block';
};

/* STAR GAME */
function startStarGame() {
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    let score = 0; let stars = []; let basketX = canvas.width/2 - 30;
    
    canvas.ontouchmove = (e) => {
        let rect = canvas.getBoundingClientRect();
        basketX = e.touches[0].clientX - rect.left - 30;
    };
    canvas.onmousemove = (e) => {
        let rect = canvas.getBoundingClientRect();
        basketX = e.clientX - rect.left - 30;
    };

    function update() {
        if(document.getElementById('pageGame').classList.contains('active')) {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            if(Math.random() < 0.05) stars.push({ x: Math.random()*(canvas.width-20), y: -20 });
            
            // Draw Basket (Glow)
            ctx.shadowBlur = 15; ctx.shadowColor = "#ff6b81";
            ctx.fillStyle = "#ff6b81";
            ctx.beginPath(); ctx.roundRect(basketX, canvas.height-20, 65, 12, 5); ctx.fill();
            ctx.shadowBlur = 0;

            stars.forEach((s, i) => {
                s.y += (3.5 + score*0.1);
                // Glowing Star
                ctx.fillStyle = "#ffcb77";
                ctx.beginPath(); ctx.arc(s.x, s.y, 6, 0, Math.PI*2); ctx.fill();
                
                if(s.y > canvas.height - 40 && s.x > basketX - 10 && s.x < basketX + 75) {
                    stars.splice(i,1); score++;
                    document.getElementById('scoreDisplay').innerText = `Collected: ${score} / 10`;
                    if(score >= 10) showPage('Puzzle');
                }
                if(s.y > canvas.height) stars.splice(i,1);
            });
            requestAnimationFrame(update);
        }
    }
    update();
}

/* PUZZLE */
let currentPieces = []; let firstSelected = null;
function initPuzzle() {
    const board = document.getElementById('puzzle-board'); board.innerHTML = '';
    if (currentPieces.length === 0) currentPieces = [0,1,2,3,4,5,6,7,8].sort(() => Math.random() - 0.5);
    currentPieces.forEach((p, i) => {
        const div = document.createElement('div'); div.className = 'puzzle-piece';
        div.style.backgroundImage = `url('https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/${p+1}.jpg')`;
        div.onclick = (e) => {
            e.stopPropagation();
            if (firstSelected === null) { firstSelected = i; div.classList.add('selected-piece'); }
            else { [currentPieces[firstSelected], currentPieces[i]] = [currentPieces[i], currentPieces[firstSelected]]; firstSelected = null; initPuzzle(); checkWin(); }
        };
        board.appendChild(div);
    });
}
function checkWin() { if (JSON.stringify(currentPieces) === JSON.stringify([0,1,2,3,4,5,6,7,8])) document.getElementById('puzzleNext').style.display = 'inline-block'; }

/* Other Handlers */
document.getElementById('clickToView6').onclick=()=>{ document.getElementById('videoContainer6').innerHTML=`<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video3.mp4" autoplay muted playsinline loop style="max-width:90%; border-radius:15px;"></video>`; };
document.getElementById('yesBtn7').onclick=()=>{ document.getElementById('videoContainer7').innerHTML=`<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video4.mp4" autoplay muted playsinline loop style="max-width:90%; border-radius:15px;"></video>`; };
document.getElementById('noBtn7').onclick=(e)=>{ e.target.style.position='absolute'; e.target.style.top=Math.random()*80+'%'; e.target.style.left=Math.random()*80+'%'; };
document.getElementById('yesBtn9').onclick=()=>showPage(10);
document.getElementById('noBtn9').onclick=(e)=>{ e.target.style.position='absolute'; e.target.style.top=Math.random()*80+'%'; e.target.style.left=Math.random()*80+'%'; };
document.getElementById('yesBtn10').onclick=()=>showPage(11);
document.getElementById('noBtn10').onclick=(e)=>{ e.target.style.position='absolute'; e.target.style.top=Math.random()*80+'%'; e.target.style.left=Math.random()*80+'%'; };

document.addEventListener('click', (e) => {
    const ignore = ['VIDEO', 'INPUT', 'BUTTON', 'IMG', 'CANVAS'];
    if(!ignore.includes(e.target.tagName) && !e.target.classList.contains('puzzle-piece')){
      if(currentPage >= 0 && currentPage < 14) showPage(currentPage + 1);
      else if(currentPage === 14) showPage('Game');
    }
});
</script>
</body>
</html>
