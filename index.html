<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>8 Month Anniversary Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
html, body {margin:0; padding:0; width:100%; height:100%; font-family: 'Dancing Script', cursive; overflow:hidden; background: linear-gradient(135deg, #ffdfba, #ffb6b9);}
.page {display:none; width:100%; height:100%; position:absolute; top:0; left:0; text-align:center; padding-top:10vh; box-sizing:border-box; cursor:pointer;}
.page.active {display:block;}
.title {font-size:2.5em; margin-bottom:20px; text-shadow: 2px 2px 5px rgba(0,0,0,0.3);}
input[type=date]{padding:10px; font-size:1em; border-radius:5px; border:none;}
.typing {display:inline; border-right:2px solid #fff; padding-right:2px;}
.yes, .no {padding:12px 25px; font-size:1.2em; margin:15px; cursor:pointer; border:none; border-radius:8px; position:relative; z-index:10;}
.yes {background: #ff6b81; color:#fff;}
.no {background:#ffcb77; color:#000;}
video,img{max-width:80%; border-radius:15px; z-index:5; position:relative;}
canvas#heartsCanvas, canvas#confettiCanvas{position:absolute; top:0; left:0; pointer-events:none; width:100%; height:100%; z-index:1;}
.countdown { font-size:3em; margin-top:20px; animation:move 5s infinite alternate;}
@keyframes move {0%{transform:translateX(-10px);}100%{transform:translateX(10px);}}
#gameArea{position:relative;width:100%;height:70vh;margin-top:20px; background:#fce8e6; border-radius:15px; overflow:hidden;}
.gameHeart{position:absolute;width:50px;height:50px; cursor:pointer; background-image: url('heart.png'); background-size:cover;}
.score{font-size:1.8em;margin-top:10px; transition: transform 0.2s;}
#puzzleGame{position:relative; margin:20px auto; width:320px; height:320px; border-radius:15px; overflow:hidden; touch-action:none;}
#puzzleGame canvas{position:absolute; cursor:pointer; user-select:none;}
</style>
</head>
<body>

<audio id="bgSong" src="song.mp3" autoplay loop></audio>
<canvas id="heartsCanvas"></canvas>
<canvas id="confettiCanvas"></canvas>

<script>
// Heart bubbles as images
const heartsCanvas = document.getElementById('heartsCanvas');
const hctx = heartsCanvas.getContext('2d');
heartsCanvas.width = window.innerWidth;
heartsCanvas.height = window.innerHeight;
const heartImg = new Image();
heartImg.src = 'heart.png';
let hearts = [];
for(let i=0;i<60;i++){
  hearts.push({
    x: Math.random()*heartsCanvas.width,
    y: Math.random()*heartsCanvas.height,
    size: Math.random()*20+20,
    speedX: (Math.random()-0.5)*1,
    speedY: Math.random()*1+0.5,
    rotation: Math.random()*360,
    rotationSpeed: (Math.random()-0.5)*2
  });
}
function drawHearts(){
  hctx.clearRect(0,0,heartsCanvas.width,heartsCanvas.height);
  hearts.forEach(h=>{
    hctx.save();
    hctx.translate(h.x,h.y);
    hctx.rotate(h.rotation*Math.PI/180);
    hctx.drawImage(heartImg,-h.size/2,-h.size/2,h.size,h.size);
    hctx.restore();
    h.x += h.speedX;
    h.y -= h.speedY;
    h.rotation += h.rotationSpeed;
    if(h.y<-50) h.y=heartsCanvas.height+50;
    if(h.x<-50) h.x=heartsCanvas.width+50;
    if(h.x>heartsCanvas.width+50) h.x=-50;
  });
  requestAnimationFrame(drawHearts);
}
heartImg.onload = drawHearts;

// Confetti
const confCanvas=document.getElementById('confettiCanvas');
const cctx=confCanvas.getContext('2d');
confCanvas.width=window.innerWidth;
confCanvas.height=window.innerHeight;
let confettiParticles=[];
function startConfetti(){
  for(let i=0;i<200;i++){
    confettiParticles.push({
      x:Math.random()*confCanvas.width,
      y:Math.random()*confCanvas.height-500,
      r:Math.random()*6+2,
      d:Math.random()*50+2,
      color:`hsl(${Math.random()*360},100%,50%)`,
      tilt:Math.random()*10-10,
      tiltAngleIncrement:Math.random()*0.07+0.05
    });
  }
  requestAnimationFrame(drawConfetti);
}
function drawConfetti(){
  cctx.clearRect(0,0,confCanvas.width,confCanvas.height);
  confettiParticles.forEach(p=>{
    cctx.beginPath();
    cctx.lineWidth=p.r;
    cctx.strokeStyle=p.color;
    cctx.moveTo(p.x+p.tilt+p.r/2,p.y);
    cctx.lineTo(p.x+p.tilt,p.y+p.tilt+p.r/2);
    cctx.stroke();
    p.tilt+=p.tiltAngleIncrement;
    p.y+=(Math.cos(p.d)+3+p.r/2)/2;
    if(p.y>confCanvas.height) p.y=-10;
  });
  requestAnimationFrame(drawConfetti);
}

// Navigation & typing
let currentPage=0;
function showPage(num){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('page'+num).classList.add('active');
  currentPage=num;
}
function startTyping(text,id){
  let i=0;
  const el=document.getElementById(id);
  const interval=setInterval(()=>{
    el.innerHTML=text.slice(0,i);
    i++;
    if(i>text.length) clearInterval(interval);
  },50);
}

// Password
function checkPassword(){
  const input=document.getElementById('passInput').value;
  if(input==="2025-06-18"){
    showPage(1);
    startTyping("Hi my fattu, this is your cutie and this is something for you that I made with all my love ðŸ’–","typeText1");
  } else alert("Incorrect password!");
}

// Yes/No buttons
document.getElementById('no1').addEventListener('click',()=>{
  const btn=document.getElementById('yes1');
  let scale=1;
  const interval=setInterval(()=>{
    scale+=0.1;
    btn.style.transform=`scale(${scale})`;
    if(scale>5) clearInterval(interval);
  },100);
});
document.getElementById('yes1').addEventListener('click',()=>showPage(6));

function runAway(el){
  const x=Math.random()*(window.innerWidth-100);
  const y=Math.random()*(window.innerHeight-50);
  el.style.position='absolute';
  el.style.left=x+'px';
  el.style.top=y+'px';
}

// Countdown
const countdownEl=document.getElementById('animatedCountdown');
function animateCountdown(){
  const text="18/02/2026";
  let i=0;
  setInterval(()=>{
    countdownEl.textContent=text.slice(0,i+1);
    i=(i+1)%text.length;
  },400);
}
animateCountdown();

// Tap anywhere
document.querySelectorAll('.page').forEach((p,index)=>{
  p.addEventListener('click',function(e){
    if(e.target.tagName!=='BUTTON' && e.target.tagName!=='VIDEO' && e.target.tagName!=='INPUT' && p.id!=='page11' && p.id!=='page12'){
      if(index<16) showPage(index+1);
    }
  });
});

// Mini-game
let score=0;
function createGameHeart(){
  const heart=document.createElement('div');
  heart.classList.add('gameHeart');
  heart.style.left=Math.random()*(window.innerWidth-50)+'px';
  heart.style.top='-50px';
  document.getElementById('gameArea').appendChild(heart);
  let fall=setInterval(()=>{
    let top=parseInt(heart.style.top);
    heart.style.top=(top+5)+'px';
    if(top>window.innerHeight*0.7){heart.remove(); clearInterval(fall); createGameHeart();}
  },30);
  heart.addEventListener('click',()=>{
    score++;
    const scoreEl=document.getElementById('score');
    scoreEl.textContent=score;
    scoreEl.style.transform='scale(1.5)';
    setTimeout(()=>{scoreEl.style.transform='scale(1)';},200);
    heart.remove(); clearInterval(fall); createGameHeart();
  });
}
document.getElementById('page12').addEventListener('click',()=>{
  score=0;
  document.getElementById('score').textContent=score;
  document.getElementById('gameArea').innerHTML='';
  for(let i=0;i<5;i++) createGameHeart();
});

// Draggable puzzle
function initDraggablePuzzle(){
  const puzzleDiv = document.getElementById('puzzleGame');
  const rows = 3, cols =3;
  const size = 320/cols;
  const tiles=[];
  const img = new Image();
  img.src='image4.jpg';
  img.onload=function(){
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        const canvas=document.createElement('canvas');
        canvas.width=size; canvas.height=size;
        canvas.style.top = r*size+'px';
        canvas.style.left = c*size+'px';
        canvas.dataset.row=r;
        canvas.dataset.col=c;
        canvas.dataset.correctRow=r;
        canvas.dataset.correctCol=c;
        const ctx=canvas.getContext('2d');
        ctx.drawImage(img, c*size, r*size, size, size, 0, 0, size, size);
        tiles.push(canvas);
      }
    }
    for(let i=tiles.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      const tTop=tiles[i].style.top, tLeft=tiles[i].style.left;
      tiles[i].style.top=tiles[j].style.top;
      tiles[i].style.left=tiles[j].style.left;
      tiles[j].style.top=tTop;
      tiles[j].style.left=tLeft;
    }
    tiles.forEach(c=>{
      puzzleDiv.appendChild(c);
      dragElement(c);
    });
  }
  function dragElement(el){
    let offsetX=0,offsetY=0,startX=0,startY=0;
    el.onpointerdown=function(e){
      e.preventDefault();
      startX=e.clientX;
      startY=e.clientY;
      document.onpointermove=drag;
      document.onpointerup=drop;
    }
    function drag(e){
      offsetX=e.clientX-startX;
      offsetY=e.clientY-startY;
      el.style.top=(parseInt(el.style.top)+offsetY)+'px';
      el.style.left=(parseInt(el.style.left)+offsetX)+'px';
      startX=e.clientX;
      startY=e.clientY;
    }
    function drop(){
      document.onpointermove=null;
      document.onpointerup=null;
      checkPuzzle();
    }
  }
  function checkPuzzle(){
    const tiles = document.querySelectorAll('#puzzleGame canvas');
    let solved=true;
    tiles.forEach(t=>{
      const top=parseInt(t.style.top);
      const left=parseInt(t.style.left);
      if(Math.abs(top - t.dataset.correctRow*size)>15 || Math.abs(left - t.dataset.correctCol*size)>15){
        solved=false;
      }
    });
    if(solved) showPage(12);
  }
}
initDraggablePuzzle();
</script>

<!-- Include all pages HTML here (password page â†’ last countdown) same as previously defined -->

</body>
</html>
