<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>8 Month Anniversary Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Fredoka+One&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #ff6b81;
    --accent: #ffcb77;
    --glass: rgba(255, 255, 255, 0.08);
    --border: rgba(255, 255, 255, 0.15);
}

html, body {
  margin:0; padding:0; width:100%; height:100%;
  font-family:'Poppins', sans-serif;
  overflow:hidden;
  background: #0f0f13;
  color:#fff;
  touch-action: manipulation;
}

canvas#bubblesCanvas {
    position: absolute; top:0; left:0; 
    width:100%; height:100%; 
    pointer-events:none; z-index: 1;
    opacity: 0.7;
}

#parallax-bg {
    position: fixed; width: 110%; height: 110%;
    background: radial-gradient(circle at 20% 30%, #1e212b 0%, #0f0f13 100%);
    top: -5%; left: -5%; z-index: -1;
}

.page {
  display:none; width:100%; height:100%; position:absolute; top:0; left:0;
  text-align:center; padding-top:7vh; box-sizing:border-box; z-index: 5;
}
.page.active {display:block; animation: slideUp 0.8s cubic-bezier(0.23, 1, 0.32, 1);}

@keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

.title {
  font-family:'Dancing Script', cursive;
  font-size:2.8em; margin-bottom:15px;
  background: linear-gradient(135deg, #fff 30%, var(--primary) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 10px 20px rgba(255,107,129,0.2));
}

.typing {display:inline; border-right:2px solid #fff; padding-right:2px; animation: blink 0.7s infinite;}
@keyframes blink { 50% { border-color: transparent; } }

video, img {max-width:85%; border-radius:30px; box-shadow:0 30px 60px rgba(0,0,0,0.8); border: 1px solid var(--border);}

.scrapbook-memory {
    background: #fdfdfd;
    padding: 15px 15px 50px 15px;
    border-radius: 5px;
    display: inline-block;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    transform: rotate(-3deg);
    position: relative;
}
.scrapbook-memory::after {
    content: 'Our Journey';
    position: absolute; bottom: 10px; left: 0; width: 100%;
    font-family: 'Dancing Script'; color: #333; font-size: 1.5em;
}

#hidden-heart {
    position: fixed; bottom: 80px; right: 20px;
    width: 30px; height: 30px; opacity: 0.1;
    z-index: 200; cursor: pointer;
}

#progress-path {
    position: fixed; bottom: 30px; left: 10%; width: 80%; height: 2px;
    background: rgba(255,255,255,0.05); z-index: 100;
}
#progress-fill {
    width: 0%; height: 100%; background: var(--primary);
    transition: width 1s cubic-bezier(0.65, 0, 0.35, 1);
    box-shadow: 0 0 20px var(--primary);
}

button {padding:14px 35px; font-size:1.1em; border:none; border-radius:50px; cursor:pointer; font-weight: 600; transition: transform 0.2s; letter-spacing: 0.5px; z-index: 100; position: relative;}
.yes { background: var(--primary); color: white; box-shadow: 0 10px 30px rgba(255, 107, 129, 0.4); }
.no { background: var(--glass); color: white; backdrop-filter: blur(8px); border: 1px solid var(--border); }

#puzzle-board {
    display: grid; grid-template-columns: repeat(3, 90px); grid-template-rows: repeat(3, 90px);
    grid-gap: 12px; justify-content: center; margin: 20px auto;
    background: var(--glass); padding: 20px; border-radius: 35px;
}
.puzzle-piece { width: 90px; height: 90px; border-radius: 15px; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

.final-card {
    background: var(--glass);
    backdrop-filter: blur(25px);
    border: 1px solid var(--border);
    border-radius: 40px;
    padding: 30px; width: 88%; margin: 0 auto;
    box-shadow: 0 50px 120px rgba(0,0,0,0.7);
    animation: heartbeat 2s infinite ease-in-out;
}
@keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }

#game-canvas { border-radius: 30px; background: rgba(0,0,0,0.5); border: 1px solid var(--border); margin: 0 auto; display: block; touch-action: none;}

/* Interactive Element Styles */
#kiss-zone { width: 80%; height: 200px; margin: 20px auto; border: 2px dashed var(--border); border-radius: 30px; position: relative; overflow: hidden; background: var(--glass); display: flex; align-items: center; justify-content: center; }
.timeline { position: relative; max-width: 300px; margin: 20px auto; padding: 20px 0; border-left: 2px dashed var(--primary); }
.timeline-item { margin-bottom: 25px; padding-left: 30px; position: relative; text-align: left; }
.timeline-item::before { content: '‚ù§Ô∏è'; position: absolute; left: -12px; top: 0; background: #0f0f13; }
#scratch-container { position: relative; width: 280px; height: 150px; margin: 0 auto; border-radius: 20px; overflow: hidden; }
.scratch-prize { position: absolute; width: 100%; height: 100%; background: #1e212b; display: flex; align-items: center; justify-content: center; font-family: 'Fredoka One'; font-size: 1.8em; color: var(--primary); border: 1px solid var(--border); border-radius: 20px; }
</style>
</head>
<body>

<canvas id="bubblesCanvas"></canvas>
<div id="parallax-bg"></div>
<audio id="bgSong" src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/song.mp3" loop></audio>
<div id="progress-path"><div id="progress-fill"></div></div>

<div id="hidden-heart" onclick="alert('You found my secret! I am so lucky to have you. ‚ù§Ô∏è')">‚ù§Ô∏è</div>

<div class="page active" id="page0">
  <h1 class="title">Our Sanctuary üíñ</h1>
  <p>Enter the date we started:</p>
  <input type="date" id="passInput" style="padding:15px; border-radius:20px; background: var(--glass); border:1px solid var(--border); color:white; font-size:1.1em; width: 60%;">
  <br><button onclick="checkPassword(event)" class="yes" style="margin-top: 25px;">Enter Our World</button>
</div>

<div class="page" id="page1"><div class="title" style="padding:30px;"><span id="typeText1" class="typing"></span></div></div>

<div class="page" id="pageMap">
    <div class="title">8 Months of Us</div>
    <div class="timeline">
        <div class="timeline-item"><strong>Month 1:</strong> Where it all began. ‚ú®</div>
        <div class="timeline-item"><strong>Month 4:</strong> Growing together. üåô</div>
        <div class="timeline-item"><strong>Month 8:</strong> My forever choice. ‚ù§Ô∏è</div>
    </div>
    <button class="yes" onclick="showPage(2)">Continue Journey</button>
</div>

<div class="page" id="page2"><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video1.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="pageScratch">
    <div class="title">A Message for You</div>
    <p>Scratch to reveal my heart...</p>
    <div id="scratch-container">
        <div class="scratch-prize">I MISS YOU ‚ù§Ô∏è</div>
        <canvas id="scratchCanvas" width="280" height="150" style="position:absolute; left:0; top:0; cursor:crosshair; touch-action:none;"></canvas>
    </div>
    <br><button class="yes" onclick="showPage(3)">Go Next</button>
</div>

<div class="page" id="page3">
  <div class="title">First and foremost</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video2.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="pageKiss">
    <div class="title">The Kissing Booth</div>
    <p>Tap inside to send me kisses!</p>
    <div id="kiss-zone"><span style="opacity:0.3">Tap to Kiss üíã</span></div>
    <button class="yes" onclick="showPage(4)">That's enough! üôà</button>
</div>

<div class="page" id="page4">
  <div class="title">Please press to open</div>
  <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image1.jpg" onclick="window.open('https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image2.jpg')">
</div>

<div class="page" id="page5">
  <div class="title">Do you wanna see something cute?</div>
  <button class="yes" id="yesBtn5">YES</button>
  <button class="no" id="noBtn5">NO</button>
  <div id="imageContainer5"></div>
  <button id="next5" style="display:none; margin-top:10px;" class="yes" onclick="showPage(6)">Keep Going</button>
</div>

<div class="page" id="page6">
  <div class="title">I have something to say</div>
  <button id="clickToView6" class="yes">Open My Soul</button>
  <div id="videoContainer6"></div>
</div>

<div class="page" id="page7">
  <div class="title">You wanna know how you fix my heart?</div>
  <button class="yes" id="yesBtn7">Tell Me</button>
  <button class="no" id="noBtn7">No</button>
  <div id="videoContainer7"></div>
</div>

<div class="page" id="page8">
  <div class="title">This is how I feel when I'm near you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video5.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page9">
  <div class="title">Will you hold my hands forever?</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video6.mp4" autoplay muted playsinline loop></video>
  <div style="margin-top:15px;">
    <button class="yes" id="yesBtn9">Always</button>
    <button class="no" id="noBtn9">No</button>
  </div>
</div>

<div class="page" id="page10">
  <div class="title">You wanna know what's in my heart?</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video7.mp4" autoplay muted playsinline loop></video>
  <div style="margin-top:15px;">
    <button class="yes" id="yesBtn10">Yes</button>
    <button class="no" id="noBtn10">No</button>
  </div>
</div>

<div class="page" id="page11">
  <div class="title">Look inside</div>
  <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image5.jpg">
</div>

<div class="page" id="page12">
  <div class="title">A lot of kisses for you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video8.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page13">
  <div class="title">And hugs for you</div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video9.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page14">
  <div class="title">A sweet memory</div>
  <div class="scrapbook-memory">
    <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image6.jpg" style="border-radius:0; box-shadow:none;">
  </div>
  <p style="margin-top:25px; font-weight: 300; opacity: 0.6; font-style: italic;">(Tap to start the finale...)</p>
</div>

<div class="page" id="pageGame">
  <div class="title">Catch the Stardust ‚ú®</div>
  <canvas id="game-canvas" width="300" height="400"></canvas>
  <h2 id="scoreDisplay" style="color:var(--accent); margin-top:15px; font-weight: 400;">Collected: 0 / 10</h2>
</div>

<div class="page" id="pagePuzzle">
  <div class="title">Piece Us Together üß©</div>
  <div id="puzzle-board"></div>
  <button id="puzzleNext" style="display:none;" class="yes" onclick="showPage('Final')">The Reveal ‚ú®</button>
</div>

<div class="page" id="pageFinal">
    <div class="final-card">
        <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/10.jpg" style="max-width:100%; border-radius:25px; margin-bottom:20px;">
        <h1 id="finalTitle" style="font-family:'Fredoka One';">Happy 8 Months!</h1>
        <p style="color: #ffd6e0; font-weight: 300; line-height: 1.8; font-size: 1.05em;">
            Eight months of choosing you, every single day.<br>
            You're my favorite adventure and my safest port.<br>
            <span style="font-weight: 600; font-size: 1.3em; letter-spacing: 1px;">Always & Forever</span><br>
            18.06.2025
        </p>
    </div>
</div>

<script>
// ---------- CONFIG ----------
const pageOrder = [0, 1, 'Map', 2, 'Scratch', 3, 'Kiss', 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 'Game', 'Puzzle', 'Final'];
let currentPage = 0;
let isUnlocked = false; 
let videoStartedOnPage7 = false; 

const bgSong = document.getElementById('bgSong');

// ---------- BUBBLES SYSTEM ----------
const bCanvas = document.getElementById('bubblesCanvas');
const bctx = bCanvas.getContext('2d');
let bubbles = [];
const heartImg = new Image(); heartImg.src = 'https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/heart.png';
const kissImg = new Image(); kissImg.src = 'https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/kiss.png';

function initBubbles() {
    bCanvas.width = window.innerWidth;
    bCanvas.height = window.innerHeight;
    bubbles = [];
    for(let i=0; i<15; i++) {
        bubbles.push({
            x: Math.random() * bCanvas.width,
            y: Math.random() * bCanvas.height + bCanvas.height,
            size: Math.random() * 20 + 20,
            speed: Math.random() * 1 + 0.5,
            img: Math.random() > 0.5 ? heartImg : kissImg
        });
    }
}

function animateBubbles() {
    bctx.clearRect(0, 0, bCanvas.width, bCanvas.height);
    bubbles.forEach(b => {
        bctx.drawImage(b.img, b.x, b.y, b.size, b.size);
        b.y -= b.speed;
        if(b.y < -50) b.y = bCanvas.height + 50;
    });
    requestAnimationFrame(animateBubbles);
}

// ---------- NAVIGATION ----------
function showPage(num) {
    if (!isUnlocked && num !== 0) return; 

    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    let target = document.getElementById('page' + num);
    if(target) target.classList.add('active');
    
    let currentIndex = pageOrder.indexOf(num);
    document.getElementById('progress-fill').style.width = (currentIndex / (pageOrder.length - 1)) * 100 + '%';
    
    currentPage = num;
    if(num === 'Scratch') initScratch();
    if(num === 'Game') startStarGame();
    if(num === 'Puzzle') initPuzzle();
}

function checkPassword(e){
    if(e) e.stopPropagation();
    if(document.getElementById('passInput').value === "2025-06-18"){
        isUnlocked = true;
        bgSong.play().catch(()=>{});
        showPage(1);
        startTyping("Hi my fattu, this is your cutie and this is something for you that I made with all my love üíñ","typeText1",()=>showPage('Map'));
    } else alert("The code is in our hearts. Try again! ‚ùå");
}

function startTyping(text,id,callback){
    let i=0; const el=document.getElementById(id); el.textContent = "";
    const interval=setInterval(()=>{ el.textContent=text.slice(0,i); i++; if(i>text.length){ clearInterval(interval); if(callback) setTimeout(callback, 2000); } }, 50);
}

// Global Click Navigator
document.addEventListener('click', (e) => {
    if (!isUnlocked) return;

    if (currentPage === 7 && videoStartedOnPage7) { showPage(8); return; }

    const interactivePages = [0, 5, 7, 9, 10, 'Scratch', 'Kiss', 'Map', 'Game', 'Puzzle'];
    if (interactivePages.includes(currentPage)) return;

    const ignore = ['VIDEO', 'INPUT', 'BUTTON', 'IMG', 'CANVAS'];
    if(!ignore.includes(e.target.tagName)){
        let idx = pageOrder.indexOf(currentPage);
        if(idx < pageOrder.length - 1) showPage(pageOrder[idx + 1]);
    }
});

// ---------- SCRATCH LOGIC ----------
function initScratch() {
    const canvas = document.getElementById('scratchCanvas');
    const ctx = canvas.getContext('2d');
    ctx.globalCompositeOperation = 'source-over';
    ctx.fillStyle = '#C0C0C0'; ctx.fillRect(0,0,canvas.width,canvas.height);
    // Silver texture
    ctx.fillStyle = '#A9A9A9';
    for(let i=0; i<80; i++) ctx.fillRect(Math.random()*canvas.width, Math.random()*canvas.height, 2, 2);
    
    ctx.globalCompositeOperation = 'destination-out';
    const scratch = (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
        const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
        ctx.beginPath(); ctx.arc(x,y,25,0,Math.PI*2); ctx.fill();
    };
    canvas.ontouchmove = scratch; canvas.onmousemove = scratch;
}

// ---------- OTHER INTERACTIONS ----------
document.getElementById('kiss-zone').onclick = function(e) {
    const k = document.createElement('div');
    k.innerHTML = 'üíã'; k.style.position = 'absolute';
    k.style.left = (e.offsetX - 10) + 'px'; k.style.top = (e.offsetY - 10) + 'px';
    k.style.fontSize = '2.5rem'; k.style.pointerEvents = 'none';
    this.appendChild(k);
    setTimeout(() => k.remove(), 800);
};

let yesSize = 1;
document.getElementById('noBtn5').onclick = (e) => { e.stopPropagation(); yesSize += 0.45; document.getElementById('yesBtn5').style.transform = `scale(${yesSize})`; };
document.getElementById('yesBtn5').onclick = (e) => { e.stopPropagation(); document.getElementById('imageContainer5').innerHTML=`<img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image3.jpg">`; document.getElementById('next5').style.display='inline-block'; };
document.getElementById('clickToView6').onclick=(e)=>{ e.stopPropagation(); document.getElementById('videoContainer6').innerHTML=`<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video3.mp4" autoplay muted playsinline loop></video>`; };
document.getElementById('yesBtn7').onclick=(e)=>{ e.stopPropagation(); document.getElementById('videoContainer7').innerHTML=`<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video4.mp4" autoplay muted playsinline loop></video>`; videoStartedOnPage7 = true; };
document.getElementById('yesBtn9').onclick=(e)=> { e.stopPropagation(); showPage(10); };
document.getElementById('yesBtn10').onclick=(e)=> { e.stopPropagation(); showPage(11); };

[document.getElementById('noBtn7'), document.getElementById('noBtn9'), document.getElementById('noBtn10')].forEach(btn => {
    btn.onclick = (e) => { e.stopPropagation(); btn.style.position='absolute'; btn.style.top=Math.random()*70 + 10 +'%'; btn.style.left=Math.random()*70 + 10 +'%'; };
});

// ---------- GAMES ----------
function startStarGame() {
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    let score = 0; let stars = []; let basketX = canvas.width/2 - 35;
    canvas.ontouchmove = (e) => { let rect = canvas.getBoundingClientRect(); basketX = e.touches[0].clientX - rect.left - 35; };
    function update() {
        if(currentPage === 'Game') {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            if(Math.random() < 0.05) stars.push({ x: Math.random()*(canvas.width-20), y: -20 });
            ctx.fillStyle = "#ff6b81"; ctx.beginPath(); ctx.roundRect(basketX, canvas.height-30, 75, 15, 10); ctx.fill();
            stars.forEach((s, i) => {
                s.y += (4 + score*0.1); ctx.fillStyle = "#ffcb77"; ctx.beginPath(); ctx.arc(s.x, s.y, 8, 0, Math.PI*2); ctx.fill();
                if(s.y > canvas.height - 45 && s.x > basketX - 10 && s.x < basketX + 85) { stars.splice(i,1); score++; document.getElementById('scoreDisplay').innerText = `Collected: ${score} / 10`; if(score >= 10) showPage('Puzzle'); }
                if(s.y > canvas.height) stars.splice(i,1);
            });
            requestAnimationFrame(update);
        }
    }
    update();
}

let currentPieces = []; let firstSelected = null;
function initPuzzle() {
    const board = document.getElementById('puzzle-board'); board.innerHTML = '';
    if (currentPieces.length === 0) currentPieces = [0,1,2,3,4,5,6,7,8].sort(() => Math.random() - 0.5);
    currentPieces.forEach((p, i) => {
        const div = document.createElement('div'); div.className = 'puzzle-piece';
        div.style.backgroundImage = `url('https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/${p+1}.jpg')`;
        div.style.backgroundSize = 'cover';
        div.onclick = (e) => { e.stopPropagation(); if (firstSelected === null) { firstSelected = i; div.style.boxShadow = '0 0 25px #ff6b81'; }
            else { [currentPieces[firstSelected], currentPieces[i]] = [currentPieces[i], currentPieces[firstSelected]]; firstSelected = null; initPuzzle(); checkWin(); }
        };
        board.appendChild(div);
    });
}
function checkWin() { if (JSON.stringify(currentPieces) === JSON.stringify([0,1,2,3,4,5,6,7,8])) document.getElementById('puzzleNext').style.display = 'inline-block'; }

window.onload = () => { initBubbles(); animateBubbles(); };
window.onresize = initBubbles;
</script>
</body>
</html>
