<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>8 Month Anniversary Surprise</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Fredoka+One&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #ff6b81;
    --accent: #ffcb77;
    --glass: rgba(255, 255, 255, 0.08);
    --border: rgba(255, 255, 255, 0.15);
}

html, body {
  margin:0; padding:0; width:100%; height:100%;
  font-family:'Poppins', sans-serif;
  overflow:hidden;
  background: #0f0f13;
  color:#fff;
  touch-action: manipulation;
}

canvas#bubblesCanvas, canvas#explosionCanvas {
    position: absolute; top:0; left:0; 
    width:100%; height:100%; 
    pointer-events:none; z-index: 1;
}

canvas#bubblesCanvas { opacity: 0.7; }
canvas#explosionCanvas { z-index: 20; }

#parallax-bg {
    position: fixed; width: 110%; height: 110%;
    background: radial-gradient(circle at 20% 30%, #1e212b 0%, #0f0f13 100%);
    top: -5%; left: -5%; z-index: -1;
}

.page {
  display:none; width:100%; height:100%; position:absolute; top:0; left:0;
  text-align:center; padding-top:7vh; box-sizing:border-box; z-index: 5;
}
.page.active {display:block; animation: slideUp 0.8s cubic-bezier(0.23, 1, 0.32, 1);}

@keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

.title {
  font-family:'Dancing Script', cursive;
  font-size:2.8em; margin-bottom:15px;
  background: linear-gradient(135deg, #fff 30%, var(--primary) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 10px 20px rgba(255,107,129,0.2));
}

.typing {display:inline; border-right:2px solid #fff; padding-right:2px; animation: blink 0.7s infinite;}
@keyframes blink { 50% { border-color: transparent; } }

video, img {max-width:85%; border-radius:30px; box-shadow:0 30px 60px rgba(0,0,0,0.8); border: 1px solid var(--border);}

button {padding:14px 35px; font-size:1.1em; border:none; border-radius:50px; cursor:pointer; font-weight: 600; transition: transform 0.2s; letter-spacing: 0.5px; z-index: 100; position: relative;}
.yes { background: var(--primary); color: white; box-shadow: 0 10px 30px rgba(255, 107, 129, 0.4); }
.no { background: var(--glass); color: white; backdrop-filter: blur(8px); border: 1px solid var(--border); }

.flip-container { perspective: 1000px; width: 85%; height: 40vh; margin: 20px auto; }
.flip-card { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; cursor: pointer; }
.flip-card.flipped { transform: rotateY(180deg); }
.flip-front, .flip-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 30px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: var(--glass); border: 1px solid var(--border); }
.flip-back { transform: rotateY(180deg); }
.flip-front img, .flip-back img { width: 100%; height: 100%; object-fit: contain; }

#puzzle-board {
    display: grid; grid-template-columns: repeat(3, 90px); grid-template-rows: repeat(3, 90px);
    grid-gap: 12px; justify-content: center; margin: 20px auto;
    background: var(--glass); padding: 20px; border-radius: 35px;
}
.puzzle-piece { width: 90px; height: 90px; border-radius: 15px; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.3); background-size: cover; }

.final-aesthetic-card {
    background: rgba(15, 15, 19, 0.8);
    backdrop-filter: blur(25px);
    border: 1px solid var(--border);
    border-radius: 40px;
    padding: 35px 20px;
    width: 88%;
    margin: 0 auto;
    box-shadow: 0 50px 120px rgba(0,0,0,0.7);
    animation: heartbeat 2s infinite ease-in-out;
}
@keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.02); } }

#progress-path { position: fixed; bottom: 30px; left: 10%; width: 80%; height: 2px; background: rgba(255,255,255,0.05); z-index: 100; }
#progress-fill { width: 0%; height: 100%; background: var(--primary); transition: width 1s; }
</style>
</head>
<body>

<canvas id="bubblesCanvas"></canvas>
<canvas id="explosionCanvas"></canvas>
<div id="parallax-bg"></div>
<audio id="bgSong" src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/song.mp3" loop></audio>
<div id="progress-path"><div id="progress-fill"></div></div>

<div class="page active" id="page0">
  <h1 class="title">Our Sanctuary üíñ</h1>
  <p>Enter the date we started:</p>
  <input type="date" id="passInput" style="padding:15px; border-radius:20px; background: var(--glass); border:1px solid var(--border); color:white; font-size:1.1em; width: 60%;">
  <br><button onclick="checkPassword()" class="yes" style="margin-top: 25px;">Enter Our World</button>
</div>

<div class="page" id="page1"><div class="title" style="padding:30px;"><span id="typeText1" class="typing"></span></div></div>

<div class="page" id="pageMap">
    <div class="title">8 Months of Us</div>
    <div style="text-align:left; max-width:280px; margin: 0 auto; border-left: 2px dashed var(--primary); padding-left: 25px;">
        <p>‚ù§Ô∏è <strong>Month 1:</strong> Where it began.</p>
        <p>‚ù§Ô∏è <strong>Month 4:</strong> Growing together.</p>
        <p>‚ù§Ô∏è <strong>Month 8:</strong> My forever choice.</p>
    </div>
    <button class="yes" style="margin-top:20px;" onclick="showPage(2)">Continue Journey</button>
</div>

<div class="page" id="page2"><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video1.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="pageScratch">
    <div class="title">A Message for You</div>
    <p>Scratch to reveal my heart...</p>
    <div style="position:relative; width:280px; height:150px; margin: 0 auto; border-radius: 20px; overflow: hidden;">
        <div style="position:absolute; width:100%; height:100%; background:#1e212b; display:flex; align-items:center; justify-content:center; font-family:'Fredoka One'; font-size:1.8em; color:var(--primary);">I MISS YOU ‚ù§Ô∏è</div>
        <canvas id="scratchCanvas" width="280" height="150" style="position:absolute; left:0; top:0; cursor:crosshair; touch-action:none;"></canvas>
    </div>
    <br><button class="yes" onclick="showPage(3)">Go Next</button>
</div>

<div class="page" id="page3"><div class="title">First and foremost</div><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video2.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="pageKiss">
    <div class="title">The Kissing Booth</div>
    <div id="kiss-zone" style="width:80%; height:200px; margin:20px auto; border:2px dashed var(--border); border-radius:30px; position:relative; overflow:hidden; background:var(--glass);"></div>
    <button class="yes" style="margin-top:15px;" onclick="showPage(4)">That's enough! üôà</button>
</div>

<div class="page" id="page4">
  <div class="title">Please press to open</div>
  <div class="flip-container">
      <div class="flip-card" id="mainFlip" onclick="flipMe()">
          <div class="flip-front"><img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image1.jpg"></div>
          <div class="flip-back"><img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image2.jpg"></div>
      </div>
  </div>
  <button id="flipNext" class="yes" style="display:none; margin-top:15px;" onclick="showPage(5)">Keep Going</button>
</div>

<div class="page" id="page5">
  <div class="title">Do you wanna see something cute?</div>
  <div style="margin: 20px 0;">
    <button class="yes" id="yesBtn5">YES</button>
    <button class="no" id="noBtn5">NO</button>
  </div>
  <div id="imageContainer5"></div>
  <button id="next5" style="display:none; margin-top:10px;" class="yes" onclick="showPage(6)">Keep Going</button>
</div>

<div class="page" id="page6"><div class="title">I have something to say</div><button id="click6" class="yes">Open My Soul</button><div id="videoContainer6"></div></div>

<div class="page" id="page7">
  <div class="title">You wanna know how you fix my heart?</div>
  <div style="margin: 20px 0;">
    <button class="yes" id="yesBtn7">Tell Me</button>
    <button class="no" id="noBtn7">No</button>
  </div>
  <div id="videoContainer7"></div>
</div>

<div class="page" id="page8"><div class="title">Near You</div><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video5.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="page9">
  <div class="title">Will you hold my hands forever?</div>
  <div style="margin: 20px 0;">
    <button class="yes" id="yesBtn9">Always</button>
    <button class="no" id="noBtn9">No</button>
  </div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video6.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page10">
  <div class="title">You wanna know what's in my heart?</div>
  <div style="margin: 20px 0;">
    <button class="yes" id="yesBtn10">Yes</button>
    <button class="no" id="noBtn10">No</button>
  </div>
  <video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video7.mp4" autoplay muted playsinline loop></video>
</div>

<div class="page" id="page11"><div class="title">Look inside</div><img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image5.jpg"></div>
<div class="page" id="page12"><div class="title">Kisses</div><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video8.mp4" autoplay muted playsinline loop></video></div>
<div class="page" id="page13"><div class="title">Hugs</div><video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video9.mp4" autoplay muted playsinline loop></video></div>

<div class="page" id="pageIntimate">
    <div class="title">My Promise</div>
    <div style="background:var(--glass); padding:20px; border-radius:30px; width:85%; margin:0 auto; text-align:left;">
        <p style="color:#ffd6e0;">In these 8 months, you've become the home I never knew I was looking for. <br><br><strong>Hold the heart to connect...</strong></p>
    </div>
    <button id="heartBtn" style="width:90px; height:90px; border-radius:50%; background:var(--primary); font-size:2em; border:none; margin:30px auto; display:block; animation:pulse 1.5s infinite;">‚ù§Ô∏è</button>
</div>

<div class="page" id="page14"><div class="title">Memory</div><img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image6.jpg"></div>
<div class="page" id="pageGame"><div class="title">Stardust</div><canvas id="game-canvas" width="300" height="400"></canvas><h2 id="scoreDisplay">0 / 10</h2></div>
<div class="page" id="pagePuzzle"><div class="title">Puzzle</div><div id="puzzle-board"></div><button id="puzzleNext" style="display:none;" class="yes" onclick="showPage('Final')">The Reveal ‚ú®</button></div>

<div class="page" id="pageFinal">
    <div class="final-aesthetic-card">
        <h1 style="font-family:'Dancing Script'; font-size:2.5em; color:var(--accent);">Happy 8 Months</h1>
        <img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/10.jpg" style="width:95%; border-radius:20px; margin: 15px 0;">
        <p style="font-weight:300; opacity:0.8;">Eight months of us, and a lifetime more to go. Always & Forever.</p>
        <div style="font-size:0.7em; opacity:0.5; margin-top:15px;">18 . 06 . 2025</div>
    </div>
    <button class="yes" style="margin-top:25px; background:transparent; border:1px solid var(--gold); color:var(--gold);" onclick="location.reload()">Replay Magic üî•</button>
</div>

<script>
const pageOrder = ['0', '1', 'Map', '2', 'Scratch', '3', 'Kiss', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', 'Intimate', '14', 'Game', 'Puzzle', 'Final'];
let currentPage = '0';
let isUnlocked = false;
let videoStarted7 = false;

const bgSong = document.getElementById('bgSong');

function showPage(num) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById('page' + num).classList.add('active');
    currentPage = num.toString();
    let idx = pageOrder.indexOf(currentPage);
    document.getElementById('progress-fill').style.width = (idx / (pageOrder.length - 1)) * 100 + '%';
    if(num === 'Scratch') initScratch();
    if(num === 'Game') startStarGame();
    if(num === 'Puzzle') initPuzzle();
}

function checkPassword() {
    if(document.getElementById('passInput').value === "2025-06-18") {
        isUnlocked = true; bgSong.play();
        if(navigator.vibrate) navigator.vibrate([100, 50, 100]);
        showPage('1');
        startTyping("Hi my fattu, this is for you with all my love üíñ","typeText1",()=>showPage('Map'));
    } else alert("Try again! ‚ùå");
}

function startTyping(text,id,callback) {
    let i=0; const el=document.getElementById(id); el.textContent = "";
    const interval=setInterval(()=>{ el.textContent=text.slice(0,i); i++; if(i>text.length){ clearInterval(interval); if(callback) setTimeout(callback, 2000); } }, 50);
}

document.addEventListener('click', (e) => {
    if (!isUnlocked) return;
    if (currentPage === '7' && videoStarted7) { showPage('8'); return; }
    const interactive = ['0', 'Map', 'Scratch', 'Kiss', '4', '5', '7', '9', '10', 'Intimate', 'Game', 'Puzzle'];
    if (interactive.includes(currentPage)) return;
    const ignore = ['VIDEO', 'INPUT', 'BUTTON', 'IMG', 'CANVAS'];
    if(!ignore.includes(e.target.tagName)) {
        let idx = pageOrder.indexOf(currentPage);
        if(idx < pageOrder.length - 1) showPage(pageOrder[idx+1]);
    }
});

function flipMe() {
    document.getElementById('mainFlip').classList.toggle('flipped');
    document.getElementById('flipNext').style.display = 'inline-block';
    if(navigator.vibrate) navigator.vibrate(50);
}

function initScratch() {
    const canvas = document.getElementById('scratchCanvas'); const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#C0C0C0'; ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.globalCompositeOperation = 'destination-out';
    const scratch = (e) => {
        const rect = canvas.getBoundingClientRect();
        const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
        const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
        ctx.beginPath(); ctx.arc(x,y,25,0,Math.PI*2); ctx.fill();
        if(navigator.vibrate && Math.random() > 0.9) navigator.vibrate(5);
    };
    canvas.ontouchmove = scratch; canvas.onmousemove = scratch;
}

document.getElementById('kiss-zone').onclick = (e) => {
    const k = document.createElement('div'); k.innerHTML = 'üíã'; k.style.position = 'absolute';
    k.style.left = (e.offsetX - 10) + 'px'; k.style.top = (e.offsetY - 10) + 'px';
    k.style.fontSize = '3rem'; document.getElementById('kiss-zone').appendChild(k);
    if(navigator.vibrate) navigator.vibrate(30);
    setTimeout(() => k.remove(), 800);
};

let hbTimeout;
const heartBtn = document.getElementById('heartBtn');
heartBtn.addEventListener('touchstart', (e) => {
    e.preventDefault(); heartBtn.style.transform = 'scale(0.8)';
    if(navigator.vibrate) navigator.vibrate([100, 50, 100, 50, 100]);
    hbTimeout = setTimeout(() => { if(navigator.vibrate) navigator.vibrate(300); showPage('14'); }, 2500);
});
heartBtn.addEventListener('touchend', () => { heartBtn.style.transform = 'scale(1)'; clearTimeout(hbTimeout); });

// Buttons
let yesS = 1;
document.getElementById('noBtn5').onclick = (e) => { e.stopPropagation(); yesS += 0.5; document.getElementById('yesBtn5').style.transform = `scale(${yesS})`; };
document.getElementById('yesBtn5').onclick = (e) => { e.stopPropagation(); document.getElementById('imageContainer5').innerHTML='<img src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/image3.jpg">'; document.getElementById('next5').style.display='block'; };
document.getElementById('click6').onclick = () => { document.getElementById('videoContainer6').innerHTML='<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video3.mp4" autoplay loop muted playsinline></video>'; };
document.getElementById('yesBtn7').onclick = () => { document.getElementById('videoContainer7').innerHTML='<video src="https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/video4.mp4" autoplay loop muted playsinline></video>'; videoStarted7=true; };

[document.getElementById('noBtn7'), document.getElementById('noBtn9'), document.getElementById('noBtn10')].forEach(btn => {
    btn.onclick = (e) => { e.stopPropagation(); btn.style.position='absolute'; btn.style.top=Math.random()*70+10+'%'; btn.style.left=Math.random()*70+10+'%'; };
});

document.getElementById('yesBtn9').onclick = () => showPage('10');
document.getElementById('yesBtn10').onclick = () => showPage('11');

// Games
function startStarGame() {
    const canvas = document.getElementById('game-canvas'); const ctx = canvas.getContext('2d');
    let score = 0; let stars = []; let basketX = canvas.width/2 - 35;
    canvas.ontouchmove = (e) => { basketX = e.touches[0].clientX - canvas.getBoundingClientRect().left - 35; };
    function update() {
        if(currentPage === 'Game') {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            if(Math.random() < 0.05) stars.push({ x: Math.random()*(canvas.width-20), y: -20 });
            ctx.fillStyle = "#ff6b81"; ctx.beginPath(); ctx.roundRect(basketX, canvas.height-30, 75, 15, 10); ctx.fill();
            stars.forEach((s, i) => {
                s.y += (4 + score*0.1); ctx.fillStyle = "#ffcb77"; ctx.beginPath(); ctx.arc(s.x, s.y, 8, 0, Math.PI*2); ctx.fill();
                if(s.y > canvas.height - 45 && s.x > basketX - 10 && s.x < basketX + 85) { stars.splice(i,1); score++; if(navigator.vibrate) navigator.vibrate(10); document.getElementById('scoreDisplay').innerText = score + ' / 10'; if(score >= 10) showPage('Puzzle'); }
                if(s.y > canvas.height) stars.splice(i,1);
            });
            requestAnimationFrame(update);
        }
    }
    update();
}

let pieces = []; let sel = null;
function initPuzzle() {
    const board = document.getElementById('puzzle-board'); board.innerHTML = '';
    if (pieces.length === 0) pieces = [0,1,2,3,4,5,6,7,8].sort(() => Math.random() - 0.5);
    pieces.forEach((p, i) => {
        const div = document.createElement('div'); div.className = 'puzzle-piece';
        div.style.backgroundImage = `url('https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/${p+1}.jpg')`;
        div.onclick = (e) => {
            e.stopPropagation();
            if (sel === null) { sel = i; div.style.boxShadow = '0 0 25px #ff6b81'; }
            else { 
                [pieces[sel], pieces[i]] = [pieces[i], pieces[sel]]; sel = null; 
                initPuzzle(); 
                if(JSON.stringify(pieces) === JSON.stringify([0,1,2,3,4,5,6,7,8])) document.getElementById('puzzleNext').style.display='block';
            }
        };
        board.appendChild(div);
    });
}

const bCanvas = document.getElementById('bubblesCanvas'); const bctx = bCanvas.getContext('2d');
let bubs = [];
const hI = new Image(); hI.src = 'https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/heart.png';
const kI = new Image(); kI.src = 'https://raw.githubusercontent.com/yoit6436-dev/8-month-anniversary/main/kiss.png';
function animateBubbles() {
    bctx.clearRect(0,0,bCanvas.width,bCanvas.height);
    bubs.forEach(b => { bctx.drawImage(b.img, b.x, b.y, 45, 45); b.y -= b.s; if(b.y < -50) b.y = bCanvas.height+50; });
    requestAnimationFrame(animateBubbles);
}
window.onload = () => {
    bCanvas.width = window.innerWidth; bCanvas.height = window.innerHeight;
    for(let i=0; i<15; i++) bubs.push({x:Math.random()*bCanvas.width, y:Math.random()*bCanvas.height, s:Math.random()*1+0.5, img:Math.random()>0.5?hI:kI});
    animateBubbles();
};
</script>
</body>
</html>
